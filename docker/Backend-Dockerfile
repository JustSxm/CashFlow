FROM node:22.16.0-alpine3.21

WORKDIR /app

# Copy package.json & package-lock.json into /app
COPY ./backend/package*.json .

# npm install dependencies -- see https://docs.npmjs.com/cli/v8/commands/npm-ci
RUN npm ci

CMD ["sh", "-c", "chmod +x /app/start.sh && /app/start.sh"]